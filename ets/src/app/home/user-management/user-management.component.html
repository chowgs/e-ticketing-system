<!-- <div class="user-management-container">
  <div class="add-user-btn-container">
    <button (click)="openAddUserModal()" class="open-addusermodal-btn">Add User</button>
    <button (click)="openAddPersonnelModal()" class="open-addpersonnelmodal-btn">Add Personnel</button>
  </div>

  <div class="flex-sections-I">
    <section>
      <div *ngIf="isLoadingFetch" class="spinner-container">
        <div class="spinner"></div>
        <p>Loading data...</p>
      </div>
      <table *ngIf="!isLoadingFetch">
        <thead>
          <tr>
            <th>ID Number</th>
            <th>Name</th>
            <th>Designation</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of getPaginatedUsers()">
            <td>{{ user.id_number }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.designation }}</td>
          </tr>
        </tbody>
      </table>

      <div class="pagination">
        <button class="pagination-buttons" (click)="changePage('prev')" [disabled]="currentPage === 1">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="16px" fill="#FFFFFF"><path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z"/></svg>             
        </button>
        <span>Page {{ currentPage }}</span>
        <button class="pagination-buttons" (click)="changePage('next')" [disabled]="(currentPage * rowsPerPage) >= users.length">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="16px" fill="#FFFFFF"><path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/></svg>
        </button>
      </div>
    </section>
  </div>

  <div *ngIf="isAddUserModalOpen" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3>New User</h3>
        <button class="close-modal-btn" (click)="closeAddUserModal()">Ã—</button>
      </div>
      <div class="modal-body">
        <form [formGroup]="addUserForm">
          <div class="form-fields">
            <div class="form-column">
              <label for="id_number">ID No.</label>
              <input formControlName="id_number" type="text" />
  
              <label for="password">Password</label>
              <input formControlName="password" type="password" />
  
              <label for="division">Division</label>
              <select formControlName="division">
                <option *ngFor="let division of divisions" [value]="division.division_id">
                  {{ division.division_name }}
                </option>
              </select>
            </div>
            <div class="form-column">
              <label for="name">Name</label>
              <input formControlName="name" type="text" />
  
              <label for="designation">Designation</label>
              <input formControlName="designation" type="text" />
  
              <label for="office">Office</label>
              <select formControlName="office">
                <option *ngFor="let office of offices" [value]="office.office_id">
                  {{ office.office_name }}
                </option>
              </select>
            </div>
          </div>
  
          <div class="permissions">
            <h4>Permissions</h4>
            <div class="permission-columns">
              <div class="permission-column">
                <label>
                  <input type="checkbox" [checked]="selectedPermissions.includes(1.6)" (change)="togglePermission(1.6)" />
                  Administrator
                </label>
                <div class="sub-permissions">
                  <label *ngFor="let adminPermission of adminSubPermissions">
                    <input
                      type="checkbox"
                      [checked]="selectedPermissions.includes(adminPermission.id)"
                      (change)="toggleSubPermission(adminPermission.id)"
                    />
                    {{ adminPermission.label }}
                  </label>
                </div>
              </div>
              <div class="permission-column">
                <label>
                  <input type="checkbox" [checked]="selectedPermissions.includes(0)" (change)="togglePermission(0)" />
                  Technical Support
                </label>
                <label>
                  <input type="checkbox" [checked]="selectedPermissions.includes(2.1)" (change)="togglePermission(2.1)" />
                  Monitoring
                </label>
                <label>
                  <input type="checkbox" [checked]="selectedPermissions.includes(3.1)" (change)="togglePermission(3.1)" />
                  IT Supervisor
                </label>
                <label>
                  <input type="checkbox" [checked]="selectedPermissions.includes(4.1)" (change)="togglePermission(4.1)" />
                  Office Supervisor
                </label>
              </div>
            </div>
          </div>
          
        </form>
      </div>
      <div class="modal-footer">
        <button class="save-btn" (click)="registerUser()" [disabled]="isRegistering" >
          <span *ngIf="isRegistering" class="button-spinner-I"></span>
          Save Changes
        </button>
      </div>
    </div>
  </div>
  
  <div *ngIf="isAddPersonnelModalOpen" class="addusermodal-overlay" (click)="closeAddPersonnelModal()">
    <div class="addusermodal-content" (click)="$event.stopPropagation()">
      <div class="modal-header-personnel">
        <h3>New Personnel</h3>
      </div>
      <form [formGroup]="addPersonnelForm">
        <div class="form-group">
          <label for="personnel_id">Personnel ID No.</label>
          <input formControlName="personnel_id" type="text" />
  
          <label for="personnel_name">Name of Personnel</label>
          <input formControlName="personnel_name" type="text" />
  
          <label for="division">Division</label>
          <select formControlName="division">
            <option *ngFor="let division of divisions" [value]="division.division_id">
              {{ division.division_name }}
            </option>
          </select>
        </div>
      </form>
  
      <button type="button" class="add-user-button" (click)="saveAsPersonnel()" [disabled]="isAddingPersonnel">
        <span *ngIf="isAddingPersonnel" class="button-spinner"></span>
        <span *ngIf="!isAddingPersonnel">Save New Personnel</span>
      </button>
    </div>
  </div>
</div> -->
